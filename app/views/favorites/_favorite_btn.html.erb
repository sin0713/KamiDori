<span class="favorite">
  <% if user_signed_in? %>
    <% if recipe.favorited_by?(current_user) %>
      <%= link_to recipe_favorites_path(recipe), method: :delete, remote: true,  class:"favorite__link favorite__link-#{recipe.id}" do %>
        <i class="fas fa-heart favorite__icon"></i><%= recipe.favorites.to_a.size %>
      <% end %>
    <% else %>
      <%= link_to recipe_favorites_path(recipe), method: :post, remote: true,  class:"favorite__link favorite__link-#{recipe.id}" do %>
        <i class="far fa-heart favorite__icon"></i><%= recipe.favorites.to_a.size %>
      <% end %>
    <% end %>
  <% else %>
    <span class="favorite__link"><i class="far fa-heart favorite__icon"></i><%= recipe.favorites.to_a.size %></span>
  <% end %>
</span>
